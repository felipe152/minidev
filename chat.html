<section id="chat">
	<div class="header-app roxo white-text">
		<div><img src="assets/img/minidev-avatar.png" width="30" alt=""></div>
		<div>Minidev</div>
		<div><span class="icon-msg"></span></div>
	</div>
	<div id="chatarea">
		<img src="assets/img/minidev-avatar.png" alt="">
		<ul id="msgarea"></ul>
	</div>
	<div id="textarea">
		<input name="newmessage" id="newmessage" type="text" value="">
		<a id="sendmessage" href="#"></a>
	</div>

	<button id="btnvamos" class="btn btna">Vamos!</button>
	<button id="btnsim" class="btn btna">Sim!</button>
	<button id="btnvamos2" class="btn btna">Vamos!</button>
	<button id="btnvamos3" class="btn btna">Entendi!</button>
	<button id="btnvamos4" class="btn btna">Quero!</button>
	<button id="btn5" class="btn btna">Sei sim!</button>
	<button id="btnvamos6" class="btn btna">Vamos!</button>
	<button id="btnvamos7" class="btn btna">Vamos!</button>
	<button id="btnvamos8" class="btn btna">Vamos!</button>
	<button id="btnvamos9" class="btn btna">Finalizar</button>
</section>

<script>

$(function() {
	var h = window.innerHeight;
	$('body').height(h);
	var chat = new Audio('assets/sound/mesage.wav');

	var interval;
	var txt = {
		0: [
			'Oi, amiga! ğŸ’œğŸ’œ',
			'Eu vou te apresentar o mundo da tecnologia ğŸ’»',
			'Sou a Minidev e tenho 10 anos! E vocÃª?',
			'Escreve aÃ­ ğŸ‘‡ğŸ¿',
			'[entrada]',
			'Agora que jÃ¡ sei o seu nome...',
			'Vamos comeÃ§ar? ğŸ˜',
			'[btnvamos]',
			'Vou te ensinar algumas coisas sobre tecnologiaâ€¦',
			'A internet Ã© uma rede no mundo todo que liga pessoas, atravÃ©s de computadores ğŸ’» e celulares ğŸ“±',
			'para trocar de informaÃ§Ãµes, ideias, fotos, mensagens e vÃ¡rias outras coisas ğŸŒ ',
			'Por vÃ¡rios aparelhos, como: celular, tablet e computador.',
			'Demais, nÃ©! Agora vamos ao primeiro desafio?',
			'Ã‰ um quiz super divertido com perguntas e respostas! ğŸ˜„ğŸ‰',
			'[btnsim]'
		],
		1: [
			'Ah, poxa!ğŸ˜” Parece que vocÃª nÃ£o ganhou dessa vez o nosso quiz.',
			'Eu sei que vocÃª tem potencial para arrasar na prÃ³xima tentativa!',
			'EntÃ£o, nÃ£o desista!',
			'Vamos jogar de novo? ğŸ’–',
			'[btnsim]'
		],
		2: [
			'VocÃª completou a primeira fase do jogo Minidev! ğŸ‰',
			'Estou muito orgulhosa! ğŸ¥°',
			'Vamos identificar um sÃ­mbolo da internet',
			'montando um quebra-cabeÃ§a no prÃ³ximo aplicativo.',
			'[btnvamos2]',
		],
		3: [
			'VocÃª completou mais uma fase do jogo Minidev! ğŸ‰',
			'Agora vamos identificar quais sÃ£o os dispositivos com conexÃ£o Ã  internet',
			'No prÃ³ximo desafio,',
			'Olha sÃ³ como funciona:',
			'veja a imagem do dispositivo',
			'e diga qual Ã© o nome dele',
			'ok? ğŸ‘Œ',
			'[btnvamos3]',
		],
		4: [
			'Poxa, que pena que vocÃª nÃ£o ganhou! Mas nÃ£o desiste, tÃ¡?', 
			'Vamos jogar de novo e mostrar que somos incrÃ­veis!',
			'Tenho certeza que vocÃª vai ganhar! TÃ´ torcendo por vocÃª! ğŸŒŸğŸ’–',
			'[btnvamos3]',
		],
		5: [
			'VocÃª completou mais uma fase do jogo Minidev! ğŸ‰',
			'Agora vamos saber o que fazer na internet!ğŸ‘©ğŸ¿â€ğŸ’»',
			'No prÃ³ximo desafio,',
			'Olha sÃ³ como funciona:',
			'arrasta pro lado DIREITO se a resposta estiver CERTA, tÃ¡ valendo o âœ….',
			'Mas, se a resposta estiver ERRADA, aÃ­ vocÃª arrasta pro lado ESQUERDO com o âŒ.',
			'Beleza, amiga? ğŸ’',
			'[btnvamos4]',
		],
		6: [
			'Poxa, que pena que vocÃª nÃ£o ganhou! Mas nÃ£o desiste, tÃ¡?', 
			'Vamos jogar de novo e mostrar que somos incrÃ­veis!',
			'Tenho certeza que vocÃª vai ganhar! TÃ´ torcendo por vocÃª! ğŸŒŸğŸ’–',
			'[btnsim]',
		],
		7: [
			'Ei, vocÃª chegou atÃ© aqui!',
			'Vamos falar sobre as tecnologias que dÃ£o vida aos sites? ',
			'Vou te contar sobre o HTML, CSS e JS de um jeito bem legal e fÃ¡cil de entender! ğŸŒğŸ’»',
			'Essas tecnologias sÃ£o tipo partes do nosso corpo! ',
			'HTML Ã© como o esqueleto, sabe? Ele dÃ¡ a estrutura, como os ossinhos de um site. ',
			'CSS Ã© como a roupinha da gente, dÃ¡ estilo, cor e faz tudo ficar lindo. ',
			'E JS Ã© como o cÃ©rebro, Ã© ele que dÃ¡ vida ao site, faz as coisas acontecerem e interagirem. ',
			'Juntos, esses trÃªs formam um timaÃ§o que cria pÃ¡ginas incrÃ­veis na web! Ã‰ tipo ter um corpo completo e cheio de habilidades! ğŸ’ªğŸŒŸ',
			'Arrasta os Ã­cones para ver as tecnologias HTML, CSS e JS em aÃ§Ã£o, e descobrir como elas trabalham juntas!',
			'[btn5]',
		],
		8: [
			'ParabÃ©ns! VocÃª aprendeu sobre as 3 principais tecnologias da internet! Vamos para o prÃ³ximo desafio?  ğŸ’•',
			'Agora que vocÃª aprendeu sobre as 3 principais tecnologias da internet, vou te ensinar mais sobre HTML, a primeira delas.',
			'Olha sÃ³, o h1 Ã© como o tÃ­tulo principal de um livro, Ã© grandÃ£o e chama bastante atenÃ§Ã£o.', 
			'JÃ¡ o h2 Ã© tipo um subtÃ­tulo, um pouco menor, que fala sobre assuntos relacionados ao tÃ­tulo. Ã‰ como se eles ajudassem a organizar as informaÃ§Ãµes!ğŸ“šğŸ’¡',
			'Agora, forme o seu prÃ³prio h1 e h2!',
			'E arraste a Minidev para o campo da imagem e escolha uma cor para o seu cabelo, bem CSS, lembra?ğŸ˜',
			'[btnvamos7]',
		],
		9: [
			'Uau, amiga, vocÃª Ã© demais! Arrasou! ğŸŒŸ', 
			'Agora vamos montar o nosso prÃ³prio site!', 
			'Vamos escrever o tÃ­tulo e subtÃ­tulo', 
			'e vamos animar uma imagem do seu celular!', 
			'Vamos ver a mÃ¡gica acontecer! ğŸ’ƒğŸ‰',
			'[btnvamos8]',
		],
		10: [
			'Isso aÃ­, vocÃª finalizou os desafios!',
			'VocÃª pode ver o seu site salvo na galeria do celular',
			'Espero que tenha se divertido!',
			'AtÃ© mais!',
			'[btnvamos9]',
		]
	};
	
		
	if(Classmenu.msgareabkp != ''){
		Classmenu.setChatBkp();
		$("#msgarea").animate({ scrollTop: $("#msgarea").height() }, 100);
	}
	switch (Classmenu.step) {
		case 1:
			dialogo = txt[0];
			Classmenu.setStep(20);
		break;
		case 22:
			dialogo = txt[1];
			Classmenu.setStep(21);
		break;
		case 31:
			dialogo = txt[2];
			Classmenu.setStep(32);
		break;
		case 41:
			dialogo = txt[3];
			Classmenu.setStep(42);
		break;
		case 44:
			dialogo = txt[4];
			Classmenu.setStep(43);
		break;
		case 51:
			dialogo = txt[5];
			Classmenu.setStep(52);
		break;
		case 54:
			dialogo = txt[6];
			Classmenu.setStep(53);
		break;
		case 61:
			dialogo = txt[7];
			Classmenu.setStep(62);
		break;
		case 71:
			dialogo = txt[8];
			Classmenu.setStep(72);
		break;
		case 81:
			dialogo = txt[9];
			Classmenu.setStep(82);
		break;
		case 85:
			dialogo = txt[10];
			Classmenu.setStep(86);
		break;

	}

	$('#chatarea img').css('opacity', '1');
	interval = setInterval(stepTxt,500); /*4000*/ 
	var step = 0;
	function stepTxt(){
		if (dialogo[step]=='[entrada]') {
			clearInterval(interval);
			$('#textarea').show();
			$('#textarea').css('opacity', '1');
		} else if(dialogo[step]=='[btnvamos]') { 
			clearInterval(interval);
			$('#btnvamos').show();
			$('#btnvamos').css('opacity', '1');
		} else if(dialogo[step]=='[btnvamos2]') { 
			clearInterval(interval);
			$('#btnvamos2').show();
			$('#btnvamos2').css('opacity', '1');
		} else if(dialogo[step]=='[btnvamos3]') { 
			clearInterval(interval);
			$('#btnvamos3').show();
			$('#btnvamos3').css('opacity', '1');
		} else if(dialogo[step]=='[btnvamos4]') { 
			clearInterval(interval);
			$('#btnvamos4').show();
			$('#btnvamos4').css('opacity', '1');
		} else if(dialogo[step]=='[btn5]') { 
			clearInterval(interval);
			$('#btn5').show();
			$('#btn5').css('opacity', '1');
		} else if(dialogo[step]=='[btnvamos6]') { 
			clearInterval(interval);
			$('#btnvamos6').show();
			$('#btnvamos6').css('opacity', '1');
		} else if(dialogo[step]=='[btnvamos7]') { 
			clearInterval(interval);
			$('#btnvamos7').show();
			$('#btnvamos7').css('opacity', '1');
		} else if(dialogo[step]=='[btnvamos8]') { 
			clearInterval(interval);
			$('#btnvamos8').show();
			$('#btnvamos8').css('opacity', '1');
		} else if(dialogo[step]=='[btnvamos9]') { 
			clearInterval(interval);
			$('#btnvamos9').show();
			$('#btnvamos9').css('opacity', '1');
		}else if(dialogo[step]=='[btnsim]') { 
			clearInterval(interval);
			$('#btnsim').show();
			$('#btnsim').css('opacity', '1');
		}else {
			if (typeof dialogo[step] !== 'undefined') {
				$('#msgarea').append('<br /><li>'+dialogo[step]+'</li>');
				setTimeout( function(){  
					$('#msgarea li').last().addClass('show');
					var playPromise = chat.play();
					$("#msgarea").animate({ scrollTop: $("#msgarea")[0].scrollHeight }, 100);
				},100); //500
				step++
			}
		}
	}
	$('#sendmessage').click(function(event) {
		var txtinput = $('#newmessage').val();
		$('#newmessage').val('');
		$('#msgarea').append('<br /><li class="msguser">'+txtinput+'</li>');
		var playPromise = chat.play();
		$('#msgarea li').last().addClass('show');
		$('#textarea').hide();
		step++
		interval = setInterval(stepTxt,500);/*4000*/
	});
	$("#newmessage").keydown(function (e) {
		if (e.keyCode == 13) {
			$('#sendmessage').click();
		}
	});
	$('#btnvamos').click(function(event) {
		$('#msgarea').append('<br /><li class="msguser">Vamos!</li>');
		var playPromise = chat.play();
		$('#msgarea li').last().addClass('show');
		$('#btnvamos').fadeOut('fast');
		step++
		interval = setInterval(stepTxt,500);/*4000*/
	});
	$('#btnvamos2').click(function(event) {
		Classmenu.setStep(32);
		Classmenu.chatBkp();
		Classmenu.closeWindow();
		Classmenu.doStep();
	});
	$('#btnvamos3').click(function(event) {
		Classmenu.setStep(42);
		Classmenu.chatBkp();
		Classmenu.closeWindow();
		Classmenu.doStep();
	});
	$('#btnvamos4').click(function(event) {
		Classmenu.setStep(52);
		Classmenu.chatBkp();
		Classmenu.closeWindow();
		Classmenu.doStep();
	});
	$('#btn5').click(function(event) {
		Classmenu.setStep(62);
		Classmenu.chatBkp();
		Classmenu.closeWindow();
		Classmenu.doStep();
	});
	$('#btnvamos6').click(function(event) {
		Classmenu.setStep(62);
		Classmenu.chatBkp();
		Classmenu.closeWindow();
		Classmenu.doStep();
	});
	$('#btnvamos7').click(function(event) {
		Classmenu.setStep(72);
		Classmenu.chatBkp();
		Classmenu.closeWindow();
		Classmenu.doStep();
	});
	$('#btnvamos8').click(function(event) {
		Classmenu.setStep(82);
		Classmenu.chatBkp();
		Classmenu.closeWindow();
		Classmenu.doStep();
	});
	$('#btnsim').click(function(event) {
		Classmenu.chatBkp();
		Classmenu.closeWindow();
		setTimeout(function () {
      		Classmenu.doStep();
      	}, 1100);
		
	});
});
</script>